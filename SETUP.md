# Finance Tracker Setup Guide

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MVP

–≠—Ç–æ—Ç –≥–∞–π–¥ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç—å Finance Tracker MVP —Å —Ä–µ–∞–ª—å–Ω–æ–π Supabase –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## 1. üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ö–µ–º—ã –ë–î
1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Supabase Dashboard
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase-schema.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–¥
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ **Database** -> **Tables**

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π
–ò–∑ **Settings** -> **API**:
- `SUPABASE_URL` - Project URL  
- `SUPABASE_ANON_KEY` - anon public key
- `SUPABASE_SERVICE_ROLE_KEY` - service_role secret key

## 2. ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

### –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞
1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞: `/newbot`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App
1. –í —á–∞—Ç–µ —Å @BotFather: `/newapp`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –£–∫–∞–∂–∏—Ç–µ URL: `http://localhost:3003` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. –û–ø–∏—Å–∞–Ω–∏–µ: "Finance Tracker Mini App"

## 3. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Backend API

### –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env` –≤ `apps/api/.env`:
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
JWT_SECRET=your-super-secret-jwt-key-must-be-at-least-32-characters-long

PORT=3001
HOST=0.0.0.0
NODE_ENV=development
FRONTEND_URL=http://localhost:3003
```

## 4. üåê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Frontend

### –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `apps/web/.env.local`:
```bash
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_BOT_USERNAME=your_bot_username
```

## 5. üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ä–∞–∑—É (–∏–∑ –∫–æ—Ä–Ω—è –º–æ–Ω–æ—Ä–µ–ø–æ)
```bash
cd "Finance Mini App/finance-tracker"
npm run dev
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ

**Backend API:**
```bash
cd "Finance Mini App/finance-tracker/apps/api"
npm run dev
```

**Frontend:**
```bash
cd "Finance Mini App/finance-tracker/apps/web"
npm run dev
```

## 6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### API Health Check
–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3001/health

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "status": "ok",
  "timestamp": "2025-09-10T...",
  "uptime": 123.456,
  "environment": "development"
}
```

### Frontend
–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3003

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Open Mini App"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

## 7. üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Mock –¥–∞–Ω–Ω—ã–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ Telegram:

```bash
# –°–æ–∑–¥–∞—Ç—å mock –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://localhost:3001/api/auth/mock
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

**Type check:**
```bash
npm run type-check
```

**Build:**
```bash
npm run build
```

## 8. üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: API –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ Supabase
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ö–µ–º–∞ –ë–î —Å–æ–∑–¥–∞–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ API

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Mini App –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `FRONTEND_URL` –≤ API `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É

## 9. üìä –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ MVP:

1. **–î–µ–ø–ª–æ–π**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å production –æ–∫—Ä—É–∂–µ–Ω–∏–µ
2. **–¢–µ—Å—Ç—ã**: –î–æ–±–∞–≤–∏—Ç—å unit –∏ integration —Ç–µ—Å—Ç—ã  
3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
4. **PWA**: –î–æ–±–∞–≤–∏—Ç—å offline support
5. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Telegram notifications

## üéâ –ì–æ—Ç–æ–≤–æ!

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —É –≤–∞—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MVP Finance Tracker —Å:

- ‚úÖ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–π –ë–î (Supabase)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—á–µ—Ç–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é (RLS + JWT)

–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ