# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Finance Tracker MVP

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –≥–æ—Ç–æ–≤–æ
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ —à–∞–≥–∏ –∏–∑ `SETUP.md`:
- ‚úÖ Supabase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∏ —Å—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
- ‚úÖ Telegram –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 (API):**
```bash
cd "Finance Mini App/finance-tracker/apps/api"
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 (Frontend):**
```bash
cd "Finance Mini App/finance-tracker/apps/web"
npm run dev
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç

**API Health Check:**
```bash
curl http://localhost:3001/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "status": "ok",
  "timestamp": "2025-09-10T...",
  "uptime": 123.456,
  "environment": "development"
}
```

**Frontend:**
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3003

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### Auth endpoints

**1. Mock –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ development):**
```bash
curl -X POST http://localhost:3001/api/auth/mock
```

**2. Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
```bash
curl -X POST http://localhost:3001/api/auth/telegram \
  -H "Content-Type: application/json" \
  -d '{"initData": "YOUR_INIT_DATA_FROM_TELEGRAM"}'
```

**3. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X GET http://localhost:3001/api/auth/me \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### Account endpoints

**1. –ü–æ–ª—É—á–∏—Ç—å —Å—á–µ—Ç–∞:**
```bash
curl -X GET http://localhost:3001/api/accounts \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

**2. –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç:**
```bash
curl -X POST http://localhost:3001/api/accounts \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "name": "–¢–µ—Å—Ç–æ–≤—ã–π —Å—á–µ—Ç",
    "type": "cash",
    "currency": "RUB",
    "balance": 10000
  }'
```

### Categories endpoints

**1. –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```bash
curl -X GET http://localhost:3001/api/categories \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

**2. –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ —Ç–∏–ø—É:**
```bash
curl -X GET http://localhost:3001/api/categories/by-type/expense \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### Transaction endpoints

**1. –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é:**
```bash
curl -X POST http://localhost:3001/api/transactions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "account_id": "YOUR_ACCOUNT_ID",
    "category_id": "YOUR_CATEGORY_ID",
    "amount": 500,
    "type": "expense",
    "description": "–¢–µ—Å—Ç–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è"
  }'
```

**2. –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
```bash
curl -X GET "http://localhost:3001/api/transactions?limit=10&page=1" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3003
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
3. –í developer tools –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫

### Mock –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ Telegram:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
2. –í Console –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
// –°–æ–∑–¥–∞—Ç—å mock –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const mockAuth = async () => {
  const response = await fetch('http://localhost:3001/api/auth/mock', {
    method: 'POST'
  });
  const data = await response.json();
  console.log('Mock auth data:', data);
  
  // –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å initData –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  return data;
}

mockAuth();
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram**
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞**
3. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—á–µ—Ç–∞**
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥)**
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
6. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
7. **–£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**

## ü§ñ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Telegram:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
```bash
ngrok http 3003
```

2. **–û–±–Ω–æ–≤–∏—Ç–µ URL Mini App** –≤ @BotFather:
```
/myapps
[–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ]
Edit Web App URL
https://your-ngrok-url.ngrok.io
```

3. **–û–±–Ω–æ–≤–∏—Ç–µ CORS –≤ API** (`apps/api/.env`):
```bash
FRONTEND_URL=https://your-ngrok-url.ngrok.io
```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ API** —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

5. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram**:
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   - –ù–∞–∂–º–∏—Ç–µ "Open Mini App"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## üîß Troubleshooting

### API –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat apps/api/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
grep -E "(SUPABASE|TELEGRAM|JWT)" apps/api/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
npm run dev  # –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏
```

### –û—à–∏–±–∫–∏ Supabase
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—Ö–µ–º–∞ –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∏ –∫–ª—é—á–∏ –≤ .env

### CORS –æ—à–∏–±–∫–∏
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ FRONTEND_URL –≤ API .env
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É
3. –î–ª—è Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok

### Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ NEXT_PUBLIC_API_URL –≤ web/.env.local
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –∑–∞–ø—É—â–µ–Ω –∏ health check —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ developer console –Ω–∞ –æ—à–∏–±–∫–∏

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ MVP

### Backend ‚úÖ
- [ ] API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Health check –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

### Frontend ‚úÖ
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] API –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] Stores —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- [ ] –§–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### Telegram Integration ‚úÖ
- [ ] Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –ë–î
- [ ] UI –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è Telegram

## üìä –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ MVP

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MVP:

1. **Production Deploy**: Railway/Vercel + production Supabase
2. **Real Telegram Bot**: –ü—É–±–ª–∏—á–Ω—ã–π –±–æ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º
3. **Enhanced Features**: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –±—é–¥–∂–µ—Ç—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **Testing**: Unit/Integration/E2E —Ç–µ—Å—Ç—ã
5. **Performance**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!

–ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ, —É –≤–∞—Å –≥–æ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Finance Tracker MVP! üöÄ

- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å RLS
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API –Ω–∞ Fastify
- ‚úÖ React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å Zustand
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

–ì–æ—Ç–æ–≤–æ –∫ –ø–æ–∫–∞–∑—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é!